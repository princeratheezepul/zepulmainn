import React from 'react';
import { Users } from 'lucide-react';

const JobCard = ({ job, onViewCandidates }) => {
  const handleViewCandidates = () => {
    if (onViewCandidates && typeof onViewCandidates === 'function') {
      onViewCandidates(job);
    }
  };
  // Safety check for job data
  if (!job) {
    return (
      <div className="bg-white border border-gray-200 rounded-lg p-6">
        <div className="text-center text-gray-500">No job data available</div>
      </div>
    );
  }

  return (
    <div className="bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow">
      <div className="flex items-start space-x-4">
        {/* Company Logo */}
        <div className="flex-shrink-0">
          <div className="w-12 h-12 bg-gray-900 rounded-3xl flex items-center justify-center">
            <span className="text-white font-semibold text-sm">
              {job.company ? job.company.substring(0, 2).toUpperCase() : 'CO'}
            </span>
          </div>
        </div>

        {/* Job Details */}
        <div className="flex-1 min-w-0">
          <div className="flex items-start justify-between mb-1">
            <div>
              <div className="text-xl font-bold text-gray-900 mb-1">
                {job.title || 'No title'}
              </div>
              <p className="text-sm text-gray-600 mb-2">{job.company || 'No company'}</p>
            </div>
            
            {/* Status Tags */}
            <div className="flex items-center space-x-2">
              <span className="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                {job.status || 'Active'}
              </span>
              <span className="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                
                <svg className="w-3 h-3 mr-1" width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.25 10C11.25 10 12 10 12 9.16667C12 8.33333 11.25 5.83333 8.25 5.83333C5.25 5.83333 4.5 8.33333 4.5 9.16667C4.5 10 5.25 10 5.25 10H11.25ZM5.2665 9.16667L5.25 9.16333C5.25075 8.94333 5.37525 8.305 5.82 7.73C6.234 7.19083 6.9615 6.66667 8.25 6.66667C9.53775 6.66667 10.2653 7.19167 10.68 7.73C11.1248 8.305 11.2485 8.94417 11.25 9.16333L11.244 9.165L11.2335 9.16667H5.2665ZM8.25 4.16667C8.64782 4.16667 9.02936 3.99107 9.31066 3.67851C9.59196 3.36595 9.75 2.94203 9.75 2.5C9.75 2.05797 9.59196 1.63405 9.31066 1.32149C9.02936 1.00893 8.64782 0.833333 8.25 0.833333C7.85218 0.833333 7.47064 1.00893 7.18934 1.32149C6.90804 1.63405 6.75 2.05797 6.75 2.5C6.75 2.94203 6.90804 3.36595 7.18934 3.67851C7.47064 3.99107 7.85218 4.16667 8.25 4.16667ZM10.5 2.5C10.5 2.8283 10.4418 3.15339 10.3287 3.45671C10.2157 3.76002 10.0499 4.03562 9.84099 4.26777C9.63206 4.49991 9.38402 4.68406 9.11104 4.8097C8.83806 4.93534 8.54547 5 8.25 5C7.95453 5 7.66194 4.93534 7.38896 4.8097C7.11598 4.68406 6.86794 4.49991 6.65901 4.26777C6.45008 4.03562 6.28434 3.76002 6.17127 3.45671C6.0582 3.15339 6 2.8283 6 2.5C6 1.83696 6.23705 1.20107 6.65901 0.732233C7.08097 0.263392 7.65326 0 8.25 0C8.84674 0 9.41903 0.263392 9.84099 0.732233C10.2629 1.20107 10.5 1.83696 10.5 2.5ZM5.202 6.06667C4.90182 5.96243 4.59263 5.89344 4.2795 5.86083C4.10353 5.84177 3.9268 5.83259 3.75 5.83333C0.75 5.83333 0 8.33333 0 9.16667C0 9.72222 0.25 10 0.75 10H3.912C3.80087 9.73983 3.74542 9.45461 3.75 9.16667C3.75 8.325 4.03275 7.465 4.5675 6.74667C4.74975 6.50167 4.962 6.2725 5.202 6.06667ZM3.69 6.66667C3.24639 7.40787 3.00663 8.27657 3 9.16667H0.75C0.75 8.95 0.873 8.30833 1.32 7.73C1.72875 7.2 2.439 6.68333 3.69 6.6675V6.66667ZM1.125 2.91667C1.125 2.25363 1.36205 1.61774 1.78401 1.1489C2.20597 0.680059 2.77826 0.416667 3.375 0.416667C3.97174 0.416667 4.54403 0.680059 4.96599 1.1489C5.38795 1.61774 5.625 2.25363 5.625 2.91667C5.625 3.57971 5.38795 4.21559 4.96599 4.68443C4.54403 5.15327 3.97174 5.41667 3.375 5.41667C2.77826 5.41667 2.20597 5.15327 1.78401 4.68443C1.36205 4.21559 1.125 3.57971 1.125 2.91667ZM3.375 1.25C2.97718 1.25 2.59564 1.42559 2.31434 1.73816C2.03304 2.05072 1.875 2.47464 1.875 2.91667C1.875 3.35869 2.03304 3.78262 2.31434 4.09518C2.59564 4.40774 2.97718 4.58333 3.375 4.58333C3.77282 4.58333 4.15436 4.40774 4.43566 4.09518C4.71696 3.78262 4.875 3.35869 4.875 2.91667C4.875 2.47464 4.71696 2.05072 4.43566 1.73816C4.15436 1.42559 3.77282 1.25 3.375 1.25Z" fill="black"/>
                </svg>

                {job.companiesPicked || '0'}
              </span>
              <span className="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                          

                {job.timeLeft || 'N/A'}

                <svg className='ml-1' width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6.99935 12.8334C10.2077 12.8334 12.8327 10.2084 12.8327 7.00008C12.8327 3.79175 10.2077 1.16675 6.99935 1.16675C3.79102 1.16675 1.16602 3.79175 1.16602 7.00008C1.16602 10.2084 3.79102 12.8334 6.99935 12.8334Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M7 4.66675V7.58341" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M6.99609 9.33325H7.00133" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </span>
            </div>
          </div>

          {/* Job Description */}
          <p className="text-gray-600 text-sm leading-relaxed mb-2">
            {job.description || 'No description available'}
          </p>
          <div className="flex justify-between mt-1">
          {/* Job Attributes */}
            <div className="flex flex-wrap gap-1 mb-1">
                <div className="flex items-center text-xs text-gray-600 border px-3  rounded-full">
                  <svg className="w-3 h-3 mr-1 text-gray-400" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 0C6.32608 0 7.59785 0.520324 8.53553 1.44651C9.47322 2.37269 10 3.62886 10 4.93868C10 7.02559 8.51539 9.29991 5.58462 11.786C5.42165 11.9242 5.21388 12.0002 4.99904 12C4.7842 11.9998 4.57656 11.9235 4.41385 11.785L4.22 11.6188C1.41897 9.19759 0 6.97899 0 4.93868C0 3.62886 0.526784 2.37269 1.46447 1.44651C2.40215 0.520324 3.67392 0 5 0ZM5 0.759797C3.87793 0.759797 2.80182 1.20007 2.00839 1.98376C1.21497 2.76746 0.769231 3.83037 0.769231 4.93868C0.769231 6.71255 2.0759 8.7564 4.72513 11.0459L4.91641 11.2095C4.93967 11.2293 4.96933 11.2402 5 11.2402C5.03067 11.2402 5.06033 11.2293 5.08359 11.2095C7.86103 8.85315 9.23077 6.75459 9.23077 4.93868C9.23077 4.3899 9.12134 3.8465 8.90872 3.33949C8.69611 2.83248 8.38447 2.37181 7.99161 1.98376C7.59874 1.59572 7.13235 1.2879 6.61905 1.0779C6.10575 0.867887 5.55559 0.759797 5 0.759797ZM5 3.03919C5.51003 3.03919 5.99917 3.23931 6.35982 3.59554C6.72047 3.95176 6.92308 4.4349 6.92308 4.93868C6.92308 5.44245 6.72047 5.9256 6.35982 6.28182C5.99917 6.63805 5.51003 6.83817 5 6.83817C4.48997 6.83817 4.00083 6.63805 3.64018 6.28182C3.27953 5.9256 3.07692 5.44245 3.07692 4.93868C3.07692 4.4349 3.27953 3.95176 3.64018 3.59554C4.00083 3.23931 4.48997 3.03919 5 3.03919ZM5 3.79898C4.69398 3.79898 4.4005 3.91906 4.18411 4.13279C3.96772 4.34653 3.84615 4.63641 3.84615 4.93868C3.84615 5.24094 3.96772 5.53083 4.18411 5.74456C4.4005 5.9583 4.69398 6.07837 5 6.07837C5.30602 6.07837 5.5995 5.9583 5.81589 5.74456C6.03228 5.53083 6.15385 5.24094 6.15385 4.93868C6.15385 4.63641 6.03228 4.34653 5.81589 4.13279C5.5995 3.91906 5.30602 3.79898 5 3.79898Z" fill="black"/>
                  </svg>
                  {job.location || 'Not specified'}
                </div>
                
                <div className="flex items-center text-xs text-gray-600 border px-3 py-1 rounded-full">
                  <svg className="w-3 h-3 mr-1 text-gray-400" viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.942667 10C0.673945 10 0.44975 9.90375 0.270083 9.71125C0.0904167 9.51875 0.000388889 9.27833 0 8.99V2.885C0 2.59708 0.0900278 2.35688 0.270083 2.16438C0.450139 1.97188 0.674139 1.87542 0.942083 1.875H3.5V1.00938C3.5 0.721876 3.59003 0.481668 3.77008 0.288751C3.95014 0.0958346 4.17433 -0.00041532 4.44267 1.34698e-06H6.05792C6.32625 1.34698e-06 6.55044 0.0962513 6.7305 0.288751C6.91056 0.481251 7.00039 0.72146 7 1.00938V1.875H9.55792C9.82625 1.875 10.0503 1.97146 10.2299 2.16438C10.4096 2.35729 10.4996 2.5975 10.5 2.885V8.99063C10.5 9.27813 10.41 9.51833 10.2299 9.71125C10.0499 9.90417 9.82586 10.0004 9.55792 10H0.942667ZM0.942667 9.375H9.55792C9.64736 9.375 9.72961 9.335 9.80467 9.255C9.87972 9.175 9.91706 9.08667 9.91667 8.99V2.885C9.91667 2.78875 9.87933 2.70042 9.80467 2.62C9.73 2.53959 9.64775 2.49958 9.55792 2.5H0.942083C0.852639 2.5 0.770389 2.54 0.695333 2.62C0.620278 2.7 0.582944 2.78833 0.583333 2.885V8.99063C0.583333 9.08646 0.620667 9.17459 0.695333 9.255C0.77 9.33542 0.85225 9.37542 0.942083 9.375M4.08333 1.875H6.41667V1.00938C6.41667 0.913543 6.37933 0.825418 6.30467 0.745001C6.23 0.664585 6.14775 0.624585 6.05792 0.625001H4.44208C4.35264 0.625001 4.27039 0.665001 4.19533 0.745001C4.12028 0.825001 4.08294 0.913126 4.08333 1.00938V1.875Z" fill="black"/>
                  </svg>
                  {job.jobType || 'Not specified'}
                </div>
                
                <div className="flex items-center text-xs text-gray-600 border px-3 py-1 rounded-full">
                  <svg className="w-4 h-4 mr-1 text-gray-400" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.41668 9.9708C1.15536 9.9708 0.937351 9.88344 0.762637 9.70873C0.587924 9.53401 0.500378 9.31581 0.5 9.05412V3.51321C0.5 3.25189 0.587546 3.03388 0.762637 2.85917C0.937729 2.68445 1.15555 2.59691 1.41611 2.59653H3.90351V1.81089C3.90351 1.54995 3.99105 1.33194 4.16615 1.15685C4.34124 0.981755 4.55925 0.894398 4.82019 0.894777H6.3909C6.65184 0.894777 6.86985 0.982133 7.04495 1.15685C7.22004 1.33156 7.30739 1.54957 7.30702 1.81089V2.59653H9.79441C10.0553 2.59653 10.2732 2.68408 10.4479 2.85917C10.6226 3.03426 10.7101 3.25227 10.7105 3.51321V5.50937C10.7105 5.58992 10.6835 5.65496 10.6294 5.7045C10.5753 5.75404 10.5078 5.77862 10.4269 5.77824C10.346 5.77786 10.2785 5.75083 10.2244 5.69713C10.1703 5.64343 10.1433 5.57611 10.1433 5.49518V3.51321C10.1433 3.4111 10.1106 3.32734 10.0451 3.26192C9.97971 3.19649 9.89614 3.16378 9.79441 3.16378H1.41611C1.31438 3.16378 1.23081 3.19649 1.16539 3.26192C1.09996 3.32734 1.06725 3.4111 1.06725 3.51321V9.05469C1.06725 9.15641 1.09996 9.23999 1.16539 9.30541C1.23081 9.37083 1.31457 9.40355 1.41668 9.40355H5.49635C5.5769 9.40355 5.6444 9.43058 5.69886 9.48466C5.75331 9.53874 5.78035 9.60624 5.77997 9.68717C5.7796 9.7681 5.75256 9.8356 5.69886 9.88968C5.64516 9.94376 5.57765 9.9708 5.49635 9.9708H1.41668ZM4.47076 2.59653H6.73976V1.81089C6.73976 1.70916 6.70705 1.62559 6.64163 1.56016C6.57621 1.49474 6.49263 1.46203 6.3909 1.46203H4.81962C4.71789 1.46203 4.63432 1.49474 4.56889 1.56016C4.50347 1.62559 4.47076 1.70916 4.47076 1.81089V2.59653ZM9.00877 11.1053C8.37685 11.1053 7.8408 10.8852 7.40061 10.445C6.96005 10.0041 6.73976 9.46783 6.73976 8.83629C6.73976 8.20475 6.96005 7.6687 7.40061 7.22814C7.84118 6.78757 8.37723 6.56729 9.00877 6.56729C9.64031 6.56729 10.1766 6.78757 10.6175 7.22814C11.0584 7.6687 11.2785 8.20475 11.2778 8.83629C11.277 9.46783 11.0569 10.0041 10.6175 10.445C10.1781 10.886 9.64182 11.1061 9.00877 11.1053ZM9.22716 8.74497V7.41817C9.22716 7.35728 9.20598 7.30566 9.16363 7.26331C9.12127 7.22095 9.06965 7.19996 9.00877 7.20034C8.94788 7.20072 8.89626 7.22171 8.85391 7.26331C8.81155 7.3049 8.79057 7.35652 8.79094 7.41817V8.74156C8.79094 8.80245 8.80134 8.85917 8.82214 8.91174C8.84332 8.96468 8.87868 9.01573 8.92822 9.0649L9.78987 9.92712C9.83223 9.96947 9.88215 9.99235 9.93963 9.99576C9.99673 9.99954 10.0501 9.97666 10.0996 9.92712C10.1491 9.87758 10.1737 9.82596 10.1733 9.77226C10.173 9.71856 10.1484 9.66694 10.0996 9.6174L9.22716 8.74497Z" fill="black"/>
                  </svg>
                  {job.experience || 'Not specified'}
                </div>
                
                <div className="flex items-center text-xs text-gray-600 border px-3 py-1 rounded-full">
                  <svg className="w-4 h-4 mr-1 text-gray-400" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.63532 6.57137V8.92864H10.4925V3.42834H8.92104V2.64258H10.7745C10.9498 2.64258 11.0134 2.66065 11.077 2.69522C11.1406 2.72858 11.1926 2.78034 11.2263 2.84373C11.2601 2.90738 11.2782 2.97102 11.2782 3.14625V9.21072C11.2782 9.38595 11.2601 9.44959 11.2255 9.51324C11.1922 9.57681 11.1404 9.62885 11.077 9.66253C11.0134 9.69632 10.9498 9.7144 10.7745 9.7144H2.35325C2.17804 9.7144 2.1144 9.69632 2.05075 9.66175C1.98718 9.62839 1.93515 9.57664 1.90147 9.51324C1.86847 9.44959 1.84961 9.38595 1.84961 9.21151V6.57137H2.63532Z" fill="black"/>
                    <path d="M8.9202 1.07116H1.06306V6.57146H8.9202V1.07116ZM9.70592 0.789071V6.85355C9.70592 7.02877 9.68785 7.09242 9.65328 7.15606C9.61992 7.21964 9.56817 7.27167 9.50478 7.30536C9.44113 7.33914 9.37749 7.35722 9.20228 7.35722H0.780987C0.605772 7.35722 0.54213 7.33914 0.478487 7.30457C0.414918 7.27122 0.362889 7.21946 0.329201 7.15606C0.296201 7.09242 0.277344 7.02877 0.277344 6.85433V0.789071C0.277344 0.613847 0.295415 0.550201 0.329987 0.486554C0.36334 0.422982 0.415095 0.37095 0.478487 0.33726C0.54213 0.304259 0.605772 0.2854 0.780201 0.2854H9.20149C9.3767 0.2854 9.44035 0.303473 9.50399 0.338046C9.56756 0.371401 9.61959 0.423159 9.65328 0.486554C9.68706 0.550201 9.70513 0.613847 9.70513 0.789071H9.70592Z" fill="black"/>
                    <path d="M4.99163 5.78572C4.47067 5.78572 3.97105 5.57876 3.60267 5.21036C3.23429 4.84197 3.02734 4.34232 3.02734 3.82133C3.02734 3.30034 3.23429 2.80069 3.60267 2.43229C3.97105 2.0639 4.47067 1.85693 4.99163 1.85693C5.51259 1.85693 6.01222 2.0639 6.38059 2.43229C6.74897 2.80069 6.95592 3.30034 6.95592 3.82133C6.95592 4.34232 6.74897 4.84197 6.38059 5.21036C6.01222 5.57876 5.51259 5.78572 4.99163 5.78572ZM4.99163 4.99996C5.30421 4.99996 5.60398 4.87579 5.82501 4.65475C6.04603 4.43371 6.1702 4.13392 6.1702 3.82133C6.1702 3.50873 6.04603 3.20894 5.82501 2.98791C5.60398 2.76687 5.30421 2.64269 4.99163 2.64269C4.67905 2.64269 4.37928 2.76687 4.15825 2.98791C3.93723 3.20894 3.81306 3.50873 3.81306 3.82133C3.81306 4.13392 3.93723 4.43371 4.15825 4.65475C4.37928 4.87579 4.67905 4.99996 4.99163 4.99996Z" fill="black"/>
                  </svg>
                  {job.salary || 'Not disclosed'}
                </div>
                
                <div className="flex items-center text-xs text-gray-600 border px-3 py-1 rounded-full">
                  <svg className="w-4 h-4 mr-1 text-gray-400" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.3619 2.47761H9.2828V1.77261C9.2828 1.64261 9.15486 1.51761 9.00468 1.52261C8.85449 1.52761 8.72656 1.63261 8.72656 1.77261V2.47761H4.83288V1.77261C4.83288 1.64261 4.70495 1.51761 4.55476 1.52261C4.40458 1.52761 4.27664 1.63261 4.27664 1.77261V2.47761H3.2031C2.83429 2.47761 2.48058 2.6093 2.2198 2.84372C1.95901 3.07814 1.8125 3.39609 1.8125 3.72761V9.22761C1.8125 9.55913 1.95901 9.87707 2.2198 10.1115C2.48058 10.3459 2.83429 10.4776 3.2031 10.4776H10.3619C10.7307 10.4776 11.0844 10.3459 11.3452 10.1115C11.606 9.87707 11.7525 9.55913 11.7525 9.22761V3.72761C11.7525 3.39609 11.606 3.07814 11.3452 2.84372C11.0844 2.6093 10.7307 2.47761 10.3619 2.47761ZM11.1963 9.22761C11.1963 9.64261 10.8236 9.97761 10.3619 9.97761H3.2031C2.74142 9.97761 2.36874 9.64261 2.36874 9.22761V5.01761H11.1963V9.22761ZM11.1963 4.51761H2.36874V3.72761C2.36874 3.31261 2.74142 2.97761 3.2031 2.97761H4.27664V3.27261C4.27664 3.40261 4.40458 3.52761 4.55476 3.52261C4.70495 3.51761 4.83288 3.41261 4.83288 3.27261V2.97761H8.72656V3.27261C8.72656 3.40261 8.85449 3.52761 9.00468 3.52261C9.15486 3.51761 9.2828 3.41261 9.2828 3.27261V2.97761H10.3619C10.8236 2.97761 11.1963 3.31261 11.1963 3.72761V4.51761Z" fill="black"/>
                    <path d="M6.88258 8.58669V6.85669C6.88257 6.85003 6.8808 6.8435 6.87743 6.83776C6.87407 6.83202 6.86924 6.82727 6.86344 6.82402C6.85763 6.82076 6.85107 6.81911 6.84442 6.81922C6.83776 6.81934 6.83126 6.82123 6.82558 6.82469L6.50658 7.02069C6.49521 7.02761 6.48221 7.03138 6.4689 7.03161C6.4556 7.03185 6.44247 7.02854 6.43086 7.02202C6.41926 7.01551 6.4096 7.00602 6.40287 6.99454C6.39614 6.98306 6.39259 6.96999 6.39258 6.95669V6.63119C6.39258 6.57869 6.42008 6.52969 6.46558 6.50269L6.84758 6.27419C6.87083 6.26019 6.89744 6.25275 6.92458 6.25269H7.23758C7.25728 6.25269 7.27678 6.25657 7.29498 6.2641C7.31318 6.27164 7.32972 6.28269 7.34364 6.29662C7.35757 6.31055 7.36862 6.32708 7.37616 6.34528C7.3837 6.36348 7.38758 6.38299 7.38758 6.40269V8.58619C7.38758 8.62597 7.37177 8.66412 7.34364 8.69225C7.31551 8.72038 7.27736 8.73619 7.23758 8.73619H7.03308C7.01338 8.73625 6.99386 8.73244 6.97564 8.72496C6.95741 8.71748 6.94084 8.70649 6.92687 8.69261C6.91289 8.67872 6.90179 8.66222 6.89419 8.64405C6.88659 8.62588 6.88264 8.60638 6.88258 8.58669Z" fill="black"/>
                  </svg>
                  {job.postedDate || 'Not specified'}
                </div>
            </div>  
            {/* View Candidates Button */}
            <div className="flex justify-end text-sm">
              <button style={{borderRadius:15}}
                onClick={handleViewCandidates}
                className="inline-flex items-center px-3 py-1 bg-blue-600 text-white font-medium hover:bg-blue-700 transition-colors"
              >
                <Users className="w-4 h-4 mr-2" />
                View Candidates
              </button>
            </div>
          </div>
        </div>
      </div>     
      
    </div>
  );
};

export default JobCard;